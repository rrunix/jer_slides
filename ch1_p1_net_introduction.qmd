---
title: "IntroducciÃ³n a las Redes de Ordenadores"
subtitle: "Fundamentos de Internet y Arquitecturas de Red"
author:   
  - "Alberto FernÃ¡ndez de Isabel"   
  - "RubÃ©n RodrÃ­guez FernÃ¡ndez (&#64;rrunix)"
date: "10/20/2025"
corresponding: true
css: ojs_interactive.css
aliases:
  - ch1_p1.html

mermaid:
  theme: default
  themeVariables:
    background: "#ffffff"
---

# IntroducciÃ³n

## Â¿QuÃ© es Internet?

::: {.columns}
::: {.column width="50%"}
**EtimologÃ­a**: "Interconnected Networks"

- Red global de redes interconectadas
- Sistema descentralizado
- MÃºltiples capas jerÃ¡rquicas
:::

::: {.column width="50%"}
**CaracterÃ­sticas principales**:

- Arquitectura distribuida
- Resiliencia a fallos
- Escalabilidad natural
- Sin control centralizado
:::
:::

```{mermaid}
graph LR
    G1["ğŸŒ Google A"]
    F1["ğŸ“˜ Facebook"]
    G2["ğŸŒ Google B"]
    A1["ğŸ›’ Amazon"]
    N1["ğŸ“º Netflix"]
    U1["ğŸ‘¤ Usuario"]
    
    %% Conexiones normales
    G1 ---|"âœ…"| F1
    F1 ---|"âœ…"| G2
    G1 ---|"âœ…"| A1
    A1 ---|"âœ…"| N1
    N1 ---|"âœ…"| G2
    U1 ---|"âœ…"| G1
    
    %% Conexiones rotas
    G2 -.-|"âŒ ROTO"| U1
    A1 -.-|"âŒ ROTO"| F1
    
    %% Rutas alternativas
    U1 ---|"ğŸ”„ Alt"| F1
    F1 ---|"ğŸ”„ Alt"| N1
    N1 ---|"ğŸ”„ Alt"| G2
    
    classDef server fill:#4ecdc4,stroke:#00b894,stroke-width:2px,color:#fff
    classDef user fill:#fd79a8,stroke:#e84393,stroke-width:2px,color:#fff
    
    class G1,F1,G2,A1,N1 server
    class U1 user
```

## JerarquÃ­a de Redes

```{mermaid}
%%| fig-width: 5s
graph LR
    PAN["ğŸ“± PAN (Personal Area Network)<br>Smartphone â†” Smartwatch"]
    LAN["ğŸ  LAN (Local Area Network)<br>Home/Office/Building Network"]
    WLAN["ğŸ“¡ WLAN (Wireless LAN)<br>Wi-Fi Implementation of LAN"]
    CAN["ğŸ« CAN (Campus Area Network)<br>Multiple LANs in Campus"]
    MAN_ISP["ğŸ™ï¸ MAN (Metropolitan Area Network)<br>ISP Network"]
    MAN_MOBILE["ğŸ“¶ MAN (Metropolitan Area Network)<br>5G/4G Mobile Network"]
    WAN["ğŸŒ WAN (Wide Area Network)<br>Between Cities or Countries"]
    INTERNET["ğŸŒ Internet<br>Global Interconnected WANs"]
    VPN["ğŸ” VPN (Virtual Private Network)<br>Secure Tunnel over Internet"]
    
    %% Traditional wired path
    PAN --> LAN
    WLAN -.-> LAN
    LAN -->|Multiple LANs| CAN
    CAN --> MAN_ISP
    LAN -->|Multiple LANs| MAN_ISP
    
    %% Mobile path
    PAN --> MAN_MOBILE
    
    %% Both MANs connect to WAN
    MAN_ISP -->|Multiple MANs| WAN
    MAN_MOBILE -->|Multiple MANs| WAN
    WAN -->|Multiple WANs| INTERNET
    VPN --> INTERNET
    
    style WLAN fill:#e1f5fe
    style VPN fill:#f3e5f5
    style MAN_MOBILE fill:#fff3e0
```

- **PAN**: Red personal entre dispositivos cercanos.
- **LAN**: Red local de casa/oficina/edificio.
- **WLAN**: LAN inalÃ¡mbrica (Wi-Fi).
- **CAN**: Red de campus - conecta mÃºltiples LANs.
- **MAN**: Red metropolitana - cubre una ciudad, incluye redes de ISP y mÃ³viles (4G/5G)
- **WAN**: Red de Ã¡rea amplia - conecta ciudades o paÃ­ses.
- **Internet**: Red global - interconexiÃ³n de todas las WANs del mundo




::: {.notes}
- PAN: Personal (smartwatch, mÃ³vil)
- LAN: Local (hogar, oficina)
- MAN: Metropolitana (ciudad)
- WAN: Ãrea amplia (paÃ­ses)
- Internet: Red global
:::



## Ejemplo: Mensaje Madrid â†’ Tokio

Smartphone MarÃ­a (WiFI) en Madrid -> Takeshi LAN en la Universidad de Tokyo

::: {.incremental}
1. **Origen LAN Madrid**: Smartphone â†’ Router WiFi
2. **Router local â†’ MAN**: ISP local â†’ MAN Madrid
3. **MAN â†’ WAN nacional**: MAN Madrid â†’ WAN EspaÃ±a
4. **WAN â†’ Internet global**: EspaÃ±a â†’ Backbone internacional
5. **Llegada a JapÃ³n**: WAN JapÃ³n â†’ MAN Tokio
6. **MAN â†’ CAN**: MAN Tokio â†’ Universidad
7. **CAN â†’ LAN**: Campus â†’ LAN especÃ­fica
8. **Destino final**: LAN â†’ Dispositivo de Takeshi
:::

## Un caso un poco mÃ¡s real

- Probad a ejecutar en vuestras terminales `traceroute www.google.es` (`tracert www.google.es` en Windows)
- Â¿QuÃ© informaciÃ³n estÃ¡is obteniendo?
- Comparadla con vuestros compaÃ±er\@s. Â¿Es la misma?


## Internet simplificado
::: {style="width: 35vw; height: auto; overflow: visible; text-align: center;"}
![](resources/small_network.png){style="display: block; margin: 0 auto;"}
:::

## Componentes Clave

::: {.columns}
::: {.column width="50%"}
### Router

- Conecta **diferentes redes**
- Usa direcciones **IP**
- Enrutamiento "hop by hop"
- Opera entre redes distantes
:::

::: {.column width="50%"}
### Switch

- Conecta dispositivos en **misma red**
- Usa direcciones **MAC**
- Entrega local inteligente
- Opera dentro de la LAN
:::
:::

## En nuestras casas

Entonces... Â¿Esto que es?

![](resources/router_switch.png)

## Identificadores en Red

::: {.columns}
::: {.column width="33%"}
### DirecciÃ³n IP

- "DirecciÃ³n postal"
- Localiza en la red
- Ejemplo: 192.168.1.100
- Puede cambiar
:::

::: {.column width="33%"}
### DirecciÃ³n MAC

- "DNI del dispositivo"
- Ãšnica y permanente
- Asignada por fabricante
- No cambia nunca
:::

::: {.column width="33%"}
### Protocolo ARP

- "Directorio telefÃ³nico"
- Traduce IP â†” MAC
- Permite entrega final
- Opera localmente
:::
:::

::: {.callout-note}
# Ejercicio
Prueba a ejecutar `ifconfig` en tu terminal MacOS/Linux o `ipconfig` en Windows. Â¿QuÃ© ves?.
:::


## Protocolos de Red

> **Protocolo**: Serie de pasos bien definidos que especifican cÃ³mo intercambiar informaciÃ³n entre dispositivos

### AnalogÃ­a del trÃ¡fico urbano
- **Sin protocolos**: Caos total, pÃ©rdida de informaciÃ³n
- **Con protocolos**: Flujo ordenado, comunicaciÃ³n efectiva


# Historia de Internet

## Linea temporal de Internet.
```{mermaid}
%%| fig-width: 6s
timeline
    title EvoluciÃ³n de Internet: De ARPANET a la Era Digital
    
    section Era ARPANET (1969-1983)
        1969 : Nace ARPANET
             : 4 nodos iniciales (UCLA, Stanford, UC Santa BÃ¡rbara, Utah)
             : ImplementaciÃ³n de conmutaciÃ³n de paquetes
        
        1973 : Primera conexiÃ³n internacional
        
        1983 : AdopciÃ³n oficial de TCP/IP
             : DivisiÃ³n de ARPANET (creaciÃ³n de MILNET)
             : Nace el tÃ©rmino "Internet"

    section Nacimiento de la Web (1989-1995)
        1989-1990 : Tim Berners-Lee inventa la World Wide Web
                  : Desarrollo de HTTP, HTML y URLs
        
        1991 : Primer sitio web pÃºblico

    section Era Comercial (1995-2000)
        1995 : EliminaciÃ³n de restricciones comerciales
             : Primeros ISPs comerciales (AOL)
             : Aparecen Amazon y eBay
        
        1998 : FundaciÃ³n de Google
        
        2000-2001 : ExplosiÃ³n de la burbuja punto-com

    section Web 2.0 y Redes Sociales (2003-2010)
        2003-2006 : Redes sociales
        2007 : Lanzamiento del iPhone

    section Era Moderna (2010-2025)
        2010s : ComputaciÃ³n en la nube, Internet de las cosas
        
        2020s : Inteligencia Artificial
              : TecnologÃ­a 5G

```

- ARPANET se creo con fines militares
- Se creo y publicÃ³ el primer sitio web (CERN)
- Burbuja punto com
- CreaciÃ³n de las Redes sociales.
- Inteligencia Artificial Generativa.
- De ~4 dispositivos (1969) a >100.000 millones (2025) en 50 aÃ±os.

# Infraestructura de Red



## Sistemas Terminales (End Systems)

> Hosts (End systems): Son los dispositivos que **usan** Internet como PCs, smartphones, IoT, servidores. Ejecutan aplicaciones de red.



::: {.columns}
::: {.column width="50%"}
### ClasificaciÃ³n

- **Clientes**: Solicitan servicios
- **Servidores**: Proporcionan servicios
- Roles dinÃ¡micos (P2P)
:::

::: {.column width="50%"}

::: {.rows}
::: {.rows height="50%"}
```{mermaid}
---
title: Cliente - Servidor 
---
graph TD
    S["ğŸ–¥ï¸ Servidor<br/>Centralizado"]
    C1["ğŸ’» Cliente 1"]
    C2["ğŸ“± Cliente 2"]
    C3["ğŸ–¥ï¸ Cliente 3"]
    
    C1 <--> S
    C2 <--> S
    C3 <--> S
    
    classDef server fill:#ff6b6b,stroke:#d63031,stroke-width:3px,color:#fff
    classDef client fill:#74b9ff,stroke:#0984e3,stroke-width:2px,color:#fff
    
    class S server
    class C1,C2,C3 client
```
:::
::: {.rows height="50%"}
```{mermaid}
---
title: Peer to peer 
---
graph LR
    P1["ğŸ’» Peer 1"]
    P2["ğŸ“± Peer 2"]
    P3["ğŸ–¥ï¸ Peer 3"]
    P4["ğŸ’» Peer 4"]
    
    P1 <--> P2
    P1 <--> P3
    P2 <--> P3
    P2 <--> P4
    P3 <--> P4
    
    classDef peer fill:#00b894,stroke:#00a085,stroke-width:2px,color:#fff
    
    class P1,P2,P3,P4 peer
```
:::
:::
:::
:::



## Redes de Acceso

> Redes de acceso: Es la red en la que se conectan los host con el router de borde.

::: {.columns}
::: {.column width="50%"}
**TecnologÃ­as host â†’ router**

- WiFi 6: 200-400 Mb/s
- Ethernet: 10 Gb/s
- 4G LTE: 50/15 Mb/s
- 5G: 300/50 Mb/s
:::

::: {.column width="50%"}
**CaracterÃ­sticas**

- Alcance limitado
- Velocidades variables
- Medios compartidos vs dedicados
:::
:::



## TecnologÃ­as WAN

> Router de borde: Router que conecta la red de acceso con el nÃºcleo de la red.

### TecnologÃ­as comunes:

| TecnologÃ­a | Velocidad tÃ­pica | Estado 2025 |
|------------|------------------|-------------|
| DSL/VDSL | 50/15 Mb/s | En declive |
| Cable HFC | 300/30 Mb/s | Estable |
| FTTH PON | 1000/1000 Mb/s | En expansiÃ³n |
| FTTH P2P | 10000/10000 Mb/s | Premium |
| Satelital | 100/20 Mb/s | Nicho |



## NÃºcleo de la Red: ISPs

> ISP (Internet Service Providers): Son los componentes del nÃºcleo de la red y proporcionan interconexiÃ³n entre diferentes redes.

::: {style="width: 70vw; height: auto; overflow: visible;"}
```{mermaid}
graph LR
    T1A["Tier 1<br/>ğŸŒ Cogent"]
    T1B["Tier 1<br/>ğŸŒ Level 3"]
    
    T2A["Tier 2<br/>ğŸ‡ªğŸ‡¸ Movistar"]
    T2B["Tier 2<br/>ğŸ‡ªğŸ‡¸ Vodafone"]
    
    T3A["Tier 3<br/>ğŸ  Lowi"]
    T3B["Tier 3<br/>ğŸ  Pepephone"]
    
    
    %% Tier 1 peering
    T1A <-.->|"Peering Gratuito"| T1B
    
    %% Tier 2 comprando de Tier 1
    T1A -->|"TrÃ¡nsito (â‚¬â‚¬â‚¬)"| T2A
    T1B -->|"TrÃ¡nsito (â‚¬â‚¬â‚¬)"| T2B
    
    %% Tier 3 comprando de Tier 2
    T2A -->|"TrÃ¡nsito (â‚¬â‚¬)"| T3A
    T2B -->|"TrÃ¡nsito (â‚¬â‚¬)"| T3B

    T2A  <-.->|"Peering Gratuito"| T2B
    
    %% Styling
    classDef tier1 fill:#ff6b6b,stroke:#d63031,stroke-width:3px,color:#fff
    classDef tier2 fill:#4ecdc4,stroke:#00b894,stroke-width:2px,color:#fff
    classDef tier3 fill:#fdcb6e,stroke:#e17055,stroke-width:2px,color:#2d3436
    classDef users fill:#a29bfe,stroke:#6c5ce7,stroke-width:2px,color:#fff
    
    class T1A,T1B tier1
    class T2A,T2B tier2
    class T3A,T3B tier3
    class U1,U2 users
```
:::

::: {.columns}
::: {.column width="33%"}
### Tier 1

- Cobertura global
- Peering gratuito
- AT&T, TelefÃ³nica
- 10-100 Gb/s
:::

::: {.column width="33%"}
### Tier 2

- Cobertura regional/nacional
- Pagan trÃ¡nsito a Tier 1
- Peering selectivo
:::

::: {.column width="33%"}
### Tier 3

- Acceso local
- Ãšltima milla
- Usuarios finales
- Sin peering
:::
:::


# Modelos de Referencia

## Arquitecturas por Capas

::: {.columns}
::: {.column width="50%"}
- Cada capa = responsabilidad especÃ­fica
- Servicios a capa superior
- Usa servicios de capa inferior
- Desarrollo independiente
:::
::: {.column width="50%"}

::: {style="width: 15vw; text-align: center; margin: 0 auto;"}
```{mermaid}
graph TD
    C1["ğŸŒ Capa 1<br/>Frontend<br/><small>Javascript, HTML, CSS</small>"]
    C2["âš¡ Capa 2<br/>API/Backend<br/><small>Node.js, Express</small>"]
    C3["ğŸ’¾ Capa 3<br/>Base de Datos<br/><small>MongoDB, PostgreSQL</small>"]
    
    C1 <--> C2
    C2 <--> C3
    
    classDef frontend fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef backend fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef database fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    
    class C1 frontend
    class C2 backend
    class C3 database
```
:::
:::
:::

## EncapsulaciÃ³n

::: {.columns}
::: {.column width="35%"}
- Cada capa aÃ±ade headers
- Datos superiores = payload
- No modifica contenido interno

:::
::: {.column width="65%"}

```{mermaid}
graph TD
    subgraph L1 ["âš¡ Capa 1: Enlace - Header Ethernet"]
        subgraph L2 ["ğŸŒ Capa 2: Red - Header IP"]
            subgraph L3 ["ğŸ“¦ Capa 3: Transporte - Header TCP"]
                subgraph L4 ["ğŸ“§ Datos Originales"]
                    DATA["Mensaje del usuario"]
                end
            end
        end
    end
    
    classDef datalink fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px
    classDef network fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    classDef transport fill:#fff3e0,stroke:#f57c00,stroke-width:3px
    classDef original fill:#e8f5e8,stroke:#388e3c,stroke-width:3px
    
    class L1 datalink
    class L2 network
    class L3 transport
    class L4 original
```
:::
:::

## EncapsulaciÃ³n + Arquitectura por capas

::: {.rows}
::: {.rows height="30%"}
```{mermaid}
---
title: EncapsulaciÃ³n 
---
graph LR
  APP["ğŸ“§ Email"]
  
  subgraph TCP ["TCP"]
      APP2["ğŸ“§ Email"]
  end
  
  subgraph IP ["IP"]
      subgraph TCP2 ["TCP"]
          APP3["ğŸ“§ Email"]
      end
  end
  
  subgraph ETH ["Ethernet"]
      subgraph IP2 ["IP"]
          subgraph TCP3 ["TCP"]
              APP4["ğŸ“§ Email"]
          end
      end
  end
  
  APP --> TCP
  TCP --> IP
  IP --> ETH
    
  classDef app fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
  classDef transport fill:#fff3e0,stroke:#f57c00,stroke-width:2px
  classDef network fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
  classDef datalink fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
  
  class APP,APP2,APP3,APP4,APP5,APP6,APP7,APP8 app
  class TCP,TCP2,TCP3,TCP4,TCP5,TCP6 transport
  class IP,IP2,IP3,IP4 network
  class ETH,ETH2 datalink
```
:::
::: {.rows height="30%"}
```{mermaid}
---
title: DesencapsulaciÃ³n 
---
graph LR
    
    DAPP["ğŸ“§ Email"]
    
    subgraph DTCP ["TCP"]
        DAPP2["ğŸ“§ Email"]
    end
    
    subgraph DIP ["IP"]
        subgraph DTCP2 ["TCP"]
            DAPP3["ğŸ“§ Email"]
        end
    end
    
    subgraph DETH ["Ethernet"]
        subgraph DIP2 ["IP"]
            subgraph DTCP3 ["TCP"]
                DAPP4["ğŸ“§ Email"]
            end
        end
    end
    
    DTCP --> DAPP
    DIP --> DTCP
    DETH --> DIP
    
    classDef app fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    classDef transport fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef network fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef datalink fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px

    class DAPP,DAPP2,DAPP3,DAPP4,DAPP5,DAPP6,DAPP7,DAPP8 app
    class DTCP,DTCP2,DTCP3,DTCP4,DTCP5,DTCP6 transport
    class DIP,DIP2,DIP3,DIP4 network
    class DETH,DETH2 datalink
```
:::
:::

## Modelos OSI vs TCP/IP

::: {.columns}
::: {.column width="50%"}

::: {style="width: 35vw; height auto; overflow: visible;"}
![](resources/tcp_osi.svg)
:::
:::

::: {.column width="50%"}

- **OSI**: 7 capas, modelo teÃ³rico
- **TCP/IP**: 4 capas, usado en Internet
:::
:::

> âš ï¸ **Nota**: TCP/IP no es un protocolo, hace referencia a una pila de protocolos. AdemÃ¡s, no tiene porque utilizar necesariamente TCP, podrÃ­a ser UDP.

:::{.notes}
TCP/IP es superior a OSI porque es simple, prÃ¡ctico y probado. Mientras OSI tiene 7 capas teÃ³ricas diseÃ±adas en comitÃ©s acadÃ©micos, TCP/IP usa solo 4 capas que realmente se necesitan y ha funcionado en Internet durante mÃ¡s de 50 aÃ±os. TCP/IP es mÃ¡s eficiente (menos overhead), mÃ¡s flexible (se adapta fÃ¡cilmente), y tiene adopciÃ³n masiva con ecosistemas completos de hardware y software. OSI llegÃ³ tarde al mercado cuando TCP/IP ya dominaba, y sus capas extra (como SesiÃ³n y PresentaciÃ³n) aÃ±aden complejidad innecesaria para la mayorÃ­a de aplicaciones reales. En resumen: OSI es el modelo perfecto para estudiar redes, pero TCP/IP es lo que realmente mueve Internet.

- Rigid Foundation: X11's network-based protocol became unchangeable due to backward compatibility, preventing modern optimizations
- Performance Bottlenecks: Every graphics operation had to go through multiple layers (app â†’ toolkit â†’ X11 â†’ server), creating unnecessary overhead for local applications
- Hardware Evolution Mismatch: When GPUs emerged, X11's software-rendering architecture couldn't efficiently utilize new hardware acceleration
- Extension Hell: Adding modern features required bolt-on extensions (Composite, GLX, XRender) rather than clean integration, creating complexity
- Layer Lock-In: Applications built on X11 assumptions were hard to migrate to better architectures, requiring complete rewrites (hence Wayland's slow adoption)
:::


## Nivel de AplicaciÃ³n

> Es el nivel en que desarrollamos aplicaciones.

::: {.columns}
::: {.column width="50%"}
### OSI (Capas 7, 6, 5)

- **AplicaciÃ³n**: HTTP, FTP, DNS
- **PresentaciÃ³n**: Cifrado, compresiÃ³n
- **SesiÃ³n**: Control de diÃ¡logos
:::

::: {.column width="50%"}
### TCP/IP

- Una sola capa integrada
- Protocolos: HTTP/HTTPS, SMTP, FTP, DNS
- MÃ¡s prÃ¡ctico
:::
:::



## Nivel de Transporte

> Gestiona la comunicaciÃ³n extremo a extremo entre aplicaciones.

### Capa 4 (ambos modelos)

::: {.columns}
::: {.column width="50%"}
**TCP**

- ComunicaciÃ³n confiable
- Control de flujo
- Entrega ordenada
- CorrecciÃ³n de errores
:::

::: {.column width="50%"}
**UDP**

- ComunicaciÃ³n rÃ¡pida
- Sin garantÃ­as
- Ideal para tiempo real
- Menor overhead
:::
:::



## Nivel de Red/Internet

> Se encarga de encontrar el mejor camino para enviar datos a travÃ©s de mÃºltiples redes. En otras palabras, se encarga del **enrutamiento** de paquetes.

### Capa 3 OSI / Capa Internet TCP/IP

**Protocolos**:

- IP: Protocolo principal
- ICMP: Control y errores
- ARP: ResoluciÃ³n de direcciones
- OSPF, BGP: Protocolos de enrutamiento

::: {.callout-note}
# Ejercicio
Prueba a ejecutar `ping www.google.es` en tu terminal. Â¿QuÃ© ves?.
:::

## Nivel de Acceso FÃ­sico

> Controla cÃ³mo los datos se transmiten fÃ­sicamente a travÃ©s del medio de comunicaciÃ³n.

::: {.columns}
::: {.column width="50%"}
### OSI (Capas 2 y 1)

- **Enlace**: Control de errores, MAC
- **FÃ­sica**: SeÃ±ales, voltajes
:::

::: {.column width="50%"}
### TCP/IP

- Capa de Acceso a Red
- Combina ambas funciones
- Ethernet, WiFi, etc.
:::
:::



# Rendimiento en Redes

## MÃ©tricas Principales

::: {.columns}
::: {.column width="50%"}
### Latencia

- Tiempo que tarda un paquete en llegar a su destino.
- "Velocidad del vehÃ­culo"
- Medida en ms
:::

::: {.column width="50%"}
### Throughput (Tasa de Transferencia Efectiva)

- Datos enviados por cantidad de tiempo.
- "NÃºmero de carriles"
- Medido en Mb/s o Gb/s
:::
:::

> âš ï¸ **Nota**: 1 MB/s = 8 Mb/s


## Throughput vs Bandwidth


::: {.columns}
::: {.column width="50%"}
### Bandwidth

- Capacidad **mÃ¡xima teÃ³rica**
- LÃ­mite fÃ­sico del canal
- Condiciones ideales
:::

::: {.column width="50%"}
### Throughput

- Transferencia **real**
- Limitado por el componente mÃ¡s lento
- Condiciones reales
:::
:::


## Latencia vs Throughput

Comparativa del efecto de la latencia y throughput en el tiempo para enviar una cantidad de datos. 

:::{.ojsinteractive}
:::{.ojscontrols}
```{ojs}
// Sliders agrupados en un formulario
viewof settings = Inputs.form({
  "TamaÃ±o total": Inputs.range([50, 5000], {value: 200, step: 10, label: "TamaÃ±o total"},),
  "Latencia A": Inputs.range([1, 50], {value: 1, step: 0.1, label: "Latencia (A)"}),
  "Throughput A": Inputs.range([1, 50], {value: 10, step: 1, label:"Throughput (A)"}),
  "Latencia B": Inputs.range([1, 50], {value: 2, step: 0.1, label:"Latencia (B)"}),
  "Throughput B": Inputs.range([1, 50], {value: 20, step: 1, label:"Throughput B"})
})

// Extraemos variables del formulario
totalData = settings["TamaÃ±o total"]
latencyA = settings["Latencia A"]
throughputA = settings["Throughput A"]
latencyB = settings["Latencia B"]
throughputB = settings["Throughput B"]
```
:::

:::{.ojsplot}
```{ojs}
// FunciÃ³n progreso
function progress(t, latency, throughput, total) {
  if (t < latency) return 0;
  return Math.min(100, ((t - latency) * throughput / total) * 100);
}

// Reloj animado
time = {
  let t0 = Date.now();
  while (true) {
    yield (Date.now() - t0) / 100; // en decimas de segundo
    await Promises.tick(50);
  }
}

// Tiempo mÃ¡ximo
maxTime = Math.max(latencyA + totalData/throughputA, latencyB + totalData/throughputB)

// Progresos
progA = progress(time % maxTime, latencyA, throughputA, totalData)
progB = progress(time % maxTime, latencyB, throughputB, totalData)

// GrÃ¡fico con Plot
Plot.plot({
  y: {domain: [0, 100], label: "% completado"},
  x: {label: "Tiempo (s)"},
  color: {legend: true, domain: ["A", "B"], range: ["blue", "red"]},
  marks: [
    Plot.line(d3.range(0, maxTime, 0.1).map(t => ({t, y: progress(t, latencyA, throughputA, totalData), series: "A"})), {x: "t", y: "y", stroke: "series"}),
    Plot.line(d3.range(0, maxTime, 0.1).map(t => ({t, y: progress(t, latencyB, throughputB, totalData), series: "B"})), {x: "t", y: "y", stroke: "series"}),
    Plot.dot([{t: time % maxTime, y: progA, series: "A"}], {x: "t", y: "y", fill: "series", r: 5}),
    Plot.dot([{t: time % maxTime, y: progB, series: "B"}], {x: "t", y: "y", fill: "series", r: 5})
  ]
})
```
:::
:::



## Componentes de la Latencia

$d_{total} = \textcolor{red}{d_{proc}} + \textcolor{blue}{d_{queue}} + \textcolor{green}{d_{prop}} + \textcolor{orange}{d_{trans}}$

- [dproc]{style="color: red;"}: Procesamiento en router (microsegundos)
- [dqueue]{style="color: blue;"}: Espera en buffer (variable con trÃ¡fico)
- [dprop]{style="color: green;"}: PropagaciÃ³n por el medio (d/s)
- [dtrans]{style="color: orange;"}: TransmisiÃ³n de datos (L/R)


## RTT

> RTT (Round trip time): Tiempo total que tarda un paquete en ir desde el origen hasta el destino y volver de vuelta (ida + vuelta).

- La latencia no tiene porque ser simÃ©trica.
- Generalmente la descarga es mÃ¡s rÃ¡pida que la subida.
- Por lo tanto, el RTT es un valor muy importante en aplicaciones interactivas.


## ComparaciÃ³n: Fibra vs 5G

| Factor | Fibra Ã“ptica | 5G |
|--------|--------------|-----|
| **PropagaciÃ³n** | 67% velocidad luz | 100% velocidad luz |
| **Procesamiento** | ~0.1ms/salto | ~4ms (estaciÃ³n radio) |
| **Cola** | Baja congestiÃ³n | Alta congestiÃ³n |
| **TransmisiÃ³n** | Hasta 10 Gb/s | < 1 Gb/s |

**Resultado**: Fibra generalmente mÃ¡s rÃ¡pida y estable



## Jitter: Variabilidad de Latencia

> Jitter: VariaciÃ³n en el tiempo de llegada de los paquetes que causa inconsistencia en la comunicaciÃ³n.

### Ejemplo comparativo

::: {.columns}
::: {.column width="50%"}
**Escenario 1** (Bajo jitter):

- Paquetes: 50, 52, 48, 51 ms
- Promedio: 50.25 ms
- VariaciÃ³n: 1.48 ms âœ…
:::

::: {.column width="50%"}
**Escenario 2** (Alto jitter):

- Paquetes: 28, 68, 43, 62 ms
- Promedio: 50.25 ms
- VariaciÃ³n: 15.82 ms âŒ
:::
:::

**Impacto**: Voz entrecortada, saltos en video, degradaciÃ³n en juegos

## Requisitos para Videojuegos

### RTT mÃ¡ximo tolerado

| GÃ©nero | Tolerancia | Ejemplo |
|--------|------------|---------|
| **Fighting** | 16-50ms | Street Fighter |
| **FPS Competitivo** | 20-50ms | Counter-Strike |
| **Racing** | 50-100ms | Gran Turismo |
| **RTS** | 100-200ms | StarCraft |
| **MMORPG** | Variable | World of Warcraft |
| **Turn-based** | 500ms+ | Civilization |



## PÃ©rdida de Paquetes

### Causas principales

- **CongestiÃ³n**: Buffers llenos en routers
- **CorrupciÃ³n**: Interferencias electromagnÃ©ticas
- **RadiaciÃ³n cÃ³smica**: ~1 error/256MB/dÃ­a


### Soluciones
- Protocolos de capas superiores (TCP)
- RetransmisiÃ³n automÃ¡tica
- CÃ³digos de correcciÃ³n de errores
- Interpolar la informaciÃ³n


## Resumen
::: {.incremental}
- Internet es un **sistema distribuido y descentralizado**
- EvoluciÃ³n desde 4 hosts (1969) a >100B dispositivos (2025)
- **Infraestructura jerÃ¡rquica**: PAN â†’ LAN â†’ MAN â†’ WAN â†’ Internet
- **Modelos de capas**: OSI (teÃ³rico) vs TCP/IP (prÃ¡ctico)
- **Rendimiento**: Balance entre latencia y throughput
- **Aplicaciones crÃ­ticas**: Videojuegos requieren <50ms para competitivo
:::